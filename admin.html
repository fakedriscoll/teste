<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de AdministraÃ§Ã£o - Pickleball</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>âš™ï¸ Painel de AdministraÃ§Ã£o</h1>
            <div class="admin-nav">
                <button onclick="location.href='index.html'">ğŸ  Voltar ao Site</button>
                <button id="admin-logout-btn" onclick="logout()">ğŸšª Logout</button>
            </div>
        </header>

        <main class="admin-main">
            <!-- SeÃ§Ã£o de EstatÃ­sticas -->
            <section class="admin-section">
                <h2>ğŸ“Š VisÃ£o Geral</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“…</div>
                        <div class="stat-content">
                            <h4>Eventos Ativos</h4>
                            <p id="active-events-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">ğŸšŒ</div>
                        <div class="stat-content">
                            <h4>Passeios Programados</h4>
                            <p id="active-trips-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-content">
                            <h4>UsuÃ¡rios Registrados</h4>
                            <p id="registered-users-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“¢</div>
                        <div class="stat-content">
                            <h4>AnÃºncios Hoje</h4>
                            <p id="announcements-today-count">-</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SeÃ§Ã£o de GestÃ£o de Eventos -->
            <section class="admin-section">
                <h2>ğŸ“… GestÃ£o de Eventos</h2>
                
                <div class="admin-card">
                    <h3>âœ¨ Criar Novo Evento</h3>
                    <form id="admin-event-form" onsubmit="handleAdminEventSubmission(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-title">ğŸ“ TÃ­tulo do Evento</label>
                                <input type="text" id="admin-event-title" required placeholder="Ex: Campeonato de Pickleball">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-type">ğŸ·ï¸ Tipo de Evento</label>
                                <select id="admin-event-type" required>
                                    <option value="">Selecione o Tipo</option>
                                    <option value="campeonato">ğŸ† Campeonato</option>
                                    <option value="novidade">ğŸ“¢ Novidade</option>
                                    <option value="passeio">ğŸšŒ Passeio</option>
                                    <option value="aula">ğŸ“š Aula Especial</option>
                                    <option value="manutencao">ğŸ”§ ManutenÃ§Ã£o</option>
                                    <option value="outro">ğŸ“… Outro</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- NOVO CAMPO PARA CATEGORIAS -->
                        <div class="form-group">
                            <label for="admin-event-categories">ğŸ·ï¸ Categorias (separadas por vÃ­rgula)</label>
                            <input type="text" id="admin-event-categories" placeholder="Ex: Masculino, Feminino, Duplas Mistas">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-date">ğŸ“… Data de InÃ­cio</label>
                                <input type="date" id="admin-event-date" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-event-end-date">ğŸ“… Data de TÃ©rmino</label>
                                <input type="date" id="admin-event-end-date">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-time">â° HorÃ¡rio de InÃ­cio</label>
                                <input type="time" id="admin-event-time" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-event-end-time">â° HorÃ¡rio de TÃ©rmino</label>
                                <input type="time" id="admin-event-end-time">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-registration-start-date">ğŸ—“ï¸ InÃ­cio das InscriÃ§Ãµes</label>
                                <input type="date" id="admin-event-registration-start-date">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-registration-end-date">ğŸ—“ï¸ Fim das InscriÃ§Ãµes</label>
                                <input type="date" id="admin-event-registration-end-date">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-event-description">ğŸ“„ DescriÃ§Ã£o</label>
                            <textarea id="admin-event-description" rows="4" required placeholder="Descreva os detalhes do evento, regras, premiaÃ§Ã£o, etc..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-location">ğŸ“ Local</label>
                                <input type="text" id="admin-event-location" placeholder="Ex: Quadra CERET, Sala de reuniÃµes...">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-price">ğŸ’° PreÃ§o</label>
                                <input type="number" id="admin-event-price" step="0.01" placeholder="0.00">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-event-image">ğŸ–¼ï¸ URL da Imagem</label>
                            <input type="url" id="admin-event-image" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        
                        <button type="submit" class="btn-primary">âœ… Criar Evento</button>
                    </form>
                </div>
            </section>

            <!-- SeÃ§Ã£o de GestÃ£o de Passeios -->
            <section class="admin-section">
                <h2>ğŸšŒ GestÃ£o de Passeios</h2>
                
                <div class="admin-card">
                    <h3>ğŸ¯ Criar Novo Passeio</h3>
                    <form id="admin-trip-form" onsubmit="handleAdminTripSubmission(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-title">ğŸª Nome do Passeio</label>
                                <input type="text" id="admin-trip-title" required placeholder="Ex: Passeio Ã  Praia">
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-destination">ğŸŒ Destino</label>
                                <input type="text" id="admin-trip-destination" required placeholder="Ex: Praia de Copacabana">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-date">ğŸ“… Data do Passeio</label>
                                <input type="date" id="admin-trip-date" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-time">ğŸ• HorÃ¡rio de SaÃ­da</label>
                                <input type="time" id="admin-trip-time" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-description">ğŸ“ DescriÃ§Ã£o do Passeio</label>
                            <textarea id="admin-trip-description" rows="4" required placeholder="Descreva o itinerÃ¡rio, atividades, o que estÃ¡ incluÃ­do..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-price">ğŸ’µ PreÃ§o por Pessoa</label>
                                <input type="number" id="admin-trip-price" step="0.01" required placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-capacity">ğŸ‘¥ Capacidade MÃ¡xima</label>
                                <input type="number" id="admin-trip-capacity" required placeholder="Ex: 30">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-meeting-point">ğŸ“ Ponto de Encontro</label>
                            <input type="text" id="admin-trip-meeting-point" required placeholder="Ex: Entrada do clube, Portaria principal...">
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-image">ğŸ–¼ï¸ URL da Imagem</label>
                            <input type="url" id="admin-trip-image" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        
                        <button type="submit" class="btn-primary">ğŸš€ Criar Passeio</button>
                    </form>
                </div>
            </section>

            <!-- SeÃ§Ã£o de Passeios Existentes -->
            <section class="admin-section">
                <h2>ğŸ—‚ï¸ Passeios Existentes</h2>
                <div id="admin-trips-container" class="events-grid">
                    <!-- Passeios serÃ£o carregados dinamicamente aqui -->
                </div>
            </section>

            <!-- SeÃ§Ã£o de AnÃºncios -->
            <section class="admin-section">
                <h2>ğŸ“¢ GestÃ£o de AnÃºncios</h2>
                
                <div class="admin-card">
                    <h3>ğŸ“£ Anunciar Aulas</h3>
                    <form id="admin-announcement-form" onsubmit="handleAdminAnnouncement(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-announcement-court">ğŸŸï¸ Quadra</label>
                                <select id="admin-announcement-court" required>
                                    <option value="">Selecione a Quadra</option>
                                    <option value="ceret">ğŸ¢ CERET</option>
                                    <option value="pelezao">âš½ PelezÃ£o</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="admin-announcement-type">ğŸ“‹ Tipo de AnÃºncio</label>
                                <select id="admin-announcement-type" onchange="toggleAdminReasonField()" required>
                                    <option value="class-on">âœ… HaverÃ¡ Aula</option>
                                    <option value="class-off">âŒ NÃ£o HaverÃ¡ Aula</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group" id="admin-announcement-reason-group" style="display: none;">
                            <label for="admin-announcement-reason">â“ Motivo (se nÃ£o houver aula)</label>
                            <textarea id="admin-announcement-reason" rows="3" placeholder="Ex: Chuva, ManutenÃ§Ã£o da quadra, Feriado, Evento especial..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary">ğŸ“¤ Publicar AnÃºncio</button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="script.js"></script>
    <script src="admin-script.js"></script>
</body>
</html>

