<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Administração - Pickleball</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="admin-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>⚙️ Painel de Administração</h1>
            <div class="admin-nav">
                <button onclick="location.href='index.html'">🏠 Voltar ao Site</button>
                <button id="admin-logout-btn" onclick="logout()">🚪 Logout</button>
            </div>
        </header>

        <main class="admin-main">
            <!-- Seção de Estatísticas -->
            <section class="admin-section">
                <h2>📊 Visão Geral</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">📅</div>
                        <div class="stat-content">
                            <h4>Eventos Ativos</h4>
                            <p id="active-events-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">🚌</div>
                        <div class="stat-content">
                            <h4>Passeios Programados</h4>
                            <p id="active-trips-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">👥</div>
                        <div class="stat-content">
                            <h4>Usuários Registrados</h4>
                            <p id="registered-users-count">-</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">📢</div>
                        <div class="stat-content">
                            <h4>Anúncios Hoje</h4>
                            <p id="announcements-today-count">-</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Seção de Gestão de Eventos -->
            <section class="admin-section">
                <h2>📅 Gestão de Eventos</h2>
                
                <div class="admin-card">
                    <h3>✨ Criar Novo Evento</h3>
                    <form id="admin-event-form" onsubmit="handleAdminEventSubmission(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-title">📝 Título do Evento</label>
                                <input type="text" id="admin-event-title" required placeholder="Ex: Campeonato de Pickleball">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-type">🏷️ Tipo de Evento</label>
                                <select id="admin-event-type" required>
                                    <option value="">Selecione o Tipo</option>
                                    <option value="campeonato">🏆 Campeonato</option>
                                    <option value="novidade">📢 Novidade</option>
                                    <option value="passeio">🚌 Passeio</option>
                                    <option value="aula">📚 Aula Especial</option>
                                    <option value="manutencao">🔧 Manutenção</option>
                                    <option value="outro">📅 Outro</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- NOVO CAMPO PARA CATEGORIAS -->
                        <div class="form-group">
                            <label for="admin-event-categories">🏷️ Categorias (separadas por vírgula)</label>
                            <input type="text" id="admin-event-categories" placeholder="Ex: Masculino, Feminino, Duplas Mistas">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-date">📅 Data de Início</label>
                                <input type="date" id="admin-event-date" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-event-end-date">📅 Data de Término</label>
                                <input type="date" id="admin-event-end-date">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-time">⏰ Horário de Início</label>
                                <input type="time" id="admin-event-time" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-event-end-time">⏰ Horário de Término</label>
                                <input type="time" id="admin-event-end-time">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-registration-start-date">🗓️ Início das Inscrições</label>
                                <input type="date" id="admin-event-registration-start-date">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-registration-end-date">🗓️ Fim das Inscrições</label>
                                <input type="date" id="admin-event-registration-end-date">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-event-description">📄 Descrição</label>
                            <textarea id="admin-event-description" rows="4" required placeholder="Descreva os detalhes do evento, regras, premiação, etc..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-event-location">📍 Local</label>
                                <input type="text" id="admin-event-location" placeholder="Ex: Quadra CERET, Sala de reuniões...">
                            </div>
                            <div class="form-group">
                                <label for="admin-event-price">💰 Preço</label>
                                <input type="number" id="admin-event-price" step="0.01" placeholder="0.00">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-event-image">🖼️ URL da Imagem</label>
                            <input type="url" id="admin-event-image" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        
                        <button type="submit" class="btn-primary">✅ Criar Evento</button>
                    </form>
                </div>
            </section>

            <!-- Seção de Gestão de Passeios -->
            <section class="admin-section">
                <h2>🚌 Gestão de Passeios</h2>
                
                <div class="admin-card">
                    <h3>🎯 Criar Novo Passeio</h3>
                    <form id="admin-trip-form" onsubmit="handleAdminTripSubmission(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-title">🎪 Nome do Passeio</label>
                                <input type="text" id="admin-trip-title" required placeholder="Ex: Passeio à Praia">
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-destination">🌍 Destino</label>
                                <input type="text" id="admin-trip-destination" required placeholder="Ex: Praia de Copacabana">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-date">📅 Data do Passeio</label>
                                <input type="date" id="admin-trip-date" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-time">🕐 Horário de Saída</label>
                                <input type="time" id="admin-trip-time" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-description">📝 Descrição do Passeio</label>
                            <textarea id="admin-trip-description" rows="4" required placeholder="Descreva o itinerário, atividades, o que está incluído..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-trip-price">💵 Preço por Pessoa</label>
                                <input type="number" id="admin-trip-price" step="0.01" required placeholder="0.00">
                            </div>
                            <div class="form-group">
                                <label for="admin-trip-capacity">👥 Capacidade Máxima</label>
                                <input type="number" id="admin-trip-capacity" required placeholder="Ex: 30">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-meeting-point">📍 Ponto de Encontro</label>
                            <input type="text" id="admin-trip-meeting-point" required placeholder="Ex: Entrada do clube, Portaria principal...">
                        </div>
                        
                        <div class="form-group">
                            <label for="admin-trip-image">🖼️ URL da Imagem</label>
                            <input type="url" id="admin-trip-image" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        
                        <button type="submit" class="btn-primary">🚀 Criar Passeio</button>
                    </form>
                </div>
            </section>

            <!-- Seção de Passeios Existentes -->
            <section class="admin-section">
                <h2>🗂️ Passeios Existentes</h2>
                <div id="admin-trips-container" class="events-grid">
                    <!-- Passeios serão carregados dinamicamente aqui -->
                </div>
            </section>

            <!-- Seção de Anúncios -->
            <section class="admin-section">
                <h2>📢 Gestão de Anúncios</h2>
                
                <div class="admin-card">
                    <h3>📣 Anunciar Aulas</h3>
                    <form id="admin-announcement-form" onsubmit="handleAdminAnnouncement(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="admin-announcement-court">🏟️ Quadra</label>
                                <select id="admin-announcement-court" required>
                                    <option value="">Selecione a Quadra</option>
                                    <option value="ceret">🏢 CERET</option>
                                    <option value="pelezao">⚽ Pelezão</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="admin-announcement-type">📋 Tipo de Anúncio</label>
                                <select id="admin-announcement-type" onchange="toggleAdminReasonField()" required>
                                    <option value="class-on">✅ Haverá Aula</option>
                                    <option value="class-off">❌ Não Haverá Aula</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group" id="admin-announcement-reason-group" style="display: none;">
                            <label for="admin-announcement-reason">❓ Motivo (se não houver aula)</label>
                            <textarea id="admin-announcement-reason" rows="3" placeholder="Ex: Chuva, Manutenção da quadra, Feriado, Evento especial..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn-primary">📤 Publicar Anúncio</button>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="script.js"></script>
    <script src="admin-script.js"></script>
</body>
</html>

